<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>독도토너 고객 행동 분석 대시보드</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* 기본 스타일 (Pretendard 폰트) */
        @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");
        
        body { 
            font-family: 'Pretendard', sans-serif; 
            background-color: #f5f7fa; 
            color: #333; 
            margin: 0; 
            padding: 40px 20px; 
            line-height: 1.6;
        }
        
        .container { max-width: 1100px; margin: 0 auto; }
        
        /* 헤더 */
        .header { margin-bottom: 40px; border-bottom: 1px solid #ddd; padding-bottom: 20px; }
        .header h1 { margin: 0 0 10px 0; color: #111; font-weight: 800; font-size: 32px; letter-spacing: -0.5px; }
        .header p { color: #666; margin: 0; font-size: 16px; }
        .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 700; background-color: #2c3e50; color: #fff; margin-top: 10px;}

        /* 레이아웃 유틸리티 */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px; }
        .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 24px; margin-bottom: 24px; }
        .full-width { grid-column: span 2; }
        .card { background: white; border-radius: 12px; padding: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.03); border: 1px solid #eee; }
        .card-title { font-size: 18px; font-weight: 700; margin-bottom: 20px; color: #2c3e50; border-left: 4px solid #2c3e50; padding-left: 12px; display: flex; justify-content: space-between; align-items: center; }

        /* 테이블 스타일 */
        table { width: 100%; border-collapse: collapse; font-size: 13px; text-align: center; }
        th { background: #f8f9fa; color: #555; padding: 12px; font-weight: 600; border-bottom: 2px solid #eee; }
        td { padding: 12px; border-bottom: 1px solid #f0f0f0; color: #444; }
        .text-left { text-align: left; }
        .text-right { text-align: right; }
        .fw-bold { font-weight: 700; }

        /* RFM Matrix 스타일 */
        .rfm-matrix { width: 100%; border-spacing: 4px; border-collapse: separate; }
        .rfm-cell { padding: 15px; border-radius: 8px; font-weight: 700; color: #555; position: relative; height: 60px; vertical-align: middle; transition: 0.2s; }
        .rfm-cell:hover { transform: scale(1.02); box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .rfm-label { font-size: 10px; color: #777; display: block; margin-bottom: 4px; font-weight: normal; }
        
        /* Matrix Colors */
        .bg-champion { background-color: #e3f2fd; border: 2px solid #2196f3; color: #0d47a1; } /* R4-F4 */
        .bg-loyal { background-color: #e8f5e9; border: 2px solid #4caf50; color: #1b5e20; } /* R3-4 F3-4 */
        .bg-potential { background-color: #fff8e1; border: 2px solid #ffc107; color: #ff6f00; } /* R3-4 F1-2 */
        .bg-risk { background-color: #ffebee; border: 2px solid #ef5350; color: #b71c1c; } /* R1-2 F3-4 */
        .bg-lost { background-color: #f5f5f5; border: 2px solid #bdbdbd; color: #757575; } /* R1-2 F1-2 */

        /* Insight Box */
        .insight-box { background-color: #f8f9fa; border-radius: 8px; padding: 20px; border: 1px solid #e0e0e0; }
        .insight-stat { font-size: 28px; font-weight: 800; color: #1a1a1a; margin-bottom: 5px; }
        .insight-stat span { font-size: 14px; font-weight: normal; color: #666; margin-left: 5px; }
        .action-tag { background: #2c3e50; color: white; padding: 2px 6px; border-radius: 4px; font-size: 11px; margin-right: 5px; }

    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>독도토너 고객 행동 데이터 분석 리포트</h1>
        <p>무신사 리뷰 및 구매 데이터 기반 정량 분석 (RFM, Demographics)</p>
        <span class="badge">Version 3.0 (Visualized)</span>
    </div>

    <div class="card full-width" style="margin-bottom: 24px;">
        <div class="card-title" style="border-left-color: #1976d2; color: #1976d2;">
            EXECUTIVE SUMMARY : 데이터가 발견한 4가지 기회
        </div>
        <div class="grid-2" style="margin-bottom: 0;">
            <div class="insight-box">
                <div style="font-size:12px; color:#d32f2f; font-weight:700;">RISK SIGNAL</div>
                <div class="insight-stat">1.6배<span>높음</span></div>
                <div style="font-size:14px; color:#555; margin-bottom:10px;">이탈 고객 리뷰 내 <strong>"생각보다"</strong> 키워드 사용 비율</div>
                <div style="font-size:13px;"><span class="action-tag">ACTION</span> 키워드 알림 설정 및 선제적 케어</div>
            </div>
            <div class="insight-box">
                <div style="font-size:12px; color:#388e3c; font-weight:700;">GOLDEN TIME</div>
                <div class="insight-stat">50일<span>재구매 주기</span></div>
                <div style="font-size:14px; color:#555; margin-bottom:10px;">평균 재구매 주기는 4개월이 아닌 <strong>50일</strong> 전후 집중</div>
                <div style="font-size:13px;"><span class="action-tag">ACTION</span> D+45일 시점 푸시 알림 발송</div>
            </div>
        </div>
    </div>

    <div class="grid-2">
        <div class="card">
            <div class="card-title">RFM 세그먼트 매트릭스 (R점수 vs F점수)</div>
            <table class="rfm-matrix">
                <tr>
                    <td rowspan="4" style="width:20px; font-size:12px; color:#888; transform: rotate(-90deg);">Frequency (빈도)</td>
                    <td class="rfm-cell bg-potential"><span class="rfm-label">잠재 VIP</span>R4-F4<br>High Potential</td>
                    <td class="rfm-cell bg-loyal"><span class="rfm-label">충성 고객</span>R4-F3<br>Loyal</td>
                    <td class="rfm-cell bg-champion"><span class="rfm-label">VIP (최상위)</span>R4-F2<br>Champions</td>
                    <td class="rfm-cell bg-champion"><span class="rfm-label">VIP (최상위)</span>R4-F1<br>Champions</td>
                </tr>
                <tr>
                    <td class="rfm-cell bg-potential"><span class="rfm-label">신규 유망</span>R3-F4<br>New Promising</td>
                    <td class="rfm-cell bg-loyal"><span class="rfm-label">충성 고객</span>R3-F3<br>Loyal</td>
                    <td class="rfm-cell bg-loyal"><span class="rfm-label">충성 고객</span>R3-F2<br>Loyal</td>
                    <td class="rfm-cell bg-potential"><span class="rfm-label">잠재력 높음</span>R3-F1<br>Potential</td>
                </tr>
                <tr>
                    <td class="rfm-cell bg-risk"><span class="rfm-label">이탈 우려</span>R2-F4<br>At Risk</td>
                    <td class="rfm-cell bg-risk"><span class="rfm-label">이탈 우려</span>R2-F3<br>At Risk</td>
                    <td class="rfm-cell bg-potential"><span class="rfm-label">유지 필요</span>R2-F2<br>Hold</td>
                    <td class="rfm-cell bg-potential"><span class="rfm-label">유지 필요</span>R2-F1<br>Hold</td>
                </tr>
                <tr>
                    <td class="rfm-cell bg-lost"><span class="rfm-label">이탈 (Lost)</span>R1-F4<br>Lost</td>
                    <td class="rfm-cell bg-lost"><span class="rfm-label">이탈 (Lost)</span>R1-F3<br>Lost</td>
                    <td class="rfm-cell bg-lost"><span class="rfm-label">동면 (Sleep)</span>R1-F2<br>Hibernating</td>
                    <td class="rfm-cell bg-lost"><span class="rfm-label">동면 (Sleep)</span>R1-F1<br>Hibernating</td>
                </tr>
                <tr>
                    <td></td>
                    <td colspan="4" style="height:20px; font-size:12px; color:#888;">Recency (최신성) → 높을수록 최근</td>
                </tr>
            </table>
        </div>

        <div class="card">
            <div class="card-title">세그먼트별 기술 통계 요약 (Descriptive Stats)</div>
            <table>
                <thead>
                    <tr>
                        <th class="text-left">세그먼트</th>
                        <th>인원 (명)</th>
                        <th>비중 (%)</th>
                        <th>평균 구매액</th>
                        <th>평균 빈도</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background-color: #e3f2fd;">
                        <td class="text-left fw-bold">Champions (VIP)</td>
                        <td>213</td>
                        <td>19.5%</td>
                        <td>124,500원</td>
                        <td>4.2회</td>
                    </tr>
                    <tr>
                        <td class="text-left fw-bold">Loyal Customers</td>
                        <td>226</td>
                        <td>20.7%</td>
                        <td>86,200원</td>
                        <td>2.8회</td>
                    </tr>
                    <tr>
                        <td class="text-left fw-bold">Potential Loyalists</td>
                        <td>225</td>
                        <td>20.6%</td>
                        <td>54,000원</td>
                        <td>1.5회</td>
                    </tr>
                    <tr>
                        <td class="text-left fw-bold" style="color:#d32f2f;">At Risk</td>
                        <td>209</td>
                        <td>19.1%</td>
                        <td>48,500원</td>
                        <td>2.1회</td>
                    </tr>
                    <tr>
                        <td class="text-left fw-bold" style="color:#777;">Lost</td>
                        <td>220</td>
                        <td>20.1%</td>
                        <td>32,000원</td>
                        <td>1.0회</td>
                    </tr>
                </tbody>
            </table>
            <div style="margin-top: 20px; height: 200px;">
                <canvas id="rfmChart"></canvas>
            </div>
        </div>
    </div>

    <div class="card full-width" style="margin-bottom: 24px;">
        <div class="card-title">RFM 세그먼트별 타겟 마케팅 전략 (Action Plan)</div>
        <table>
            <thead>
                <tr>
                    <th style="width: 20%;">세그먼트</th>
                    <th style="width: 30%;">고객 특성 (Persona)</th>
                    <th style="width: 50%;">마케팅 실행 전략 (Strategy)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="fw-bold" style="color:#1565c0;">Champions</td>
                    <td class="text-left">최근에, 자주, 가장 많이 구매한 최상위 고객</td>
                    <td class="text-left">
                        • <strong>신제품 체험단</strong> 우선 초청 (Lock-in)<br>
                        • 프라이빗 시크릿 쿠폰 발송 (Upselling)
                    </td>
                </tr>
                <tr>
                    <td class="fw-bold" style="color:#2e7d32;">Loyal</td>
                    <td class="text-left">꾸준히 방문하며 구매 빈도가 높은 우수 고객</td>
                    <td class="text-left">
                        • <strong>번들 상품(세트)</strong> 추천으로 객단가 증대<br>
                        • 리뷰 작성 시 포인트 2배 적립 (Engagement 강화)
                    </td>
                </tr>
                <tr>
                    <td class="fw-bold" style="color:#f57c00;">Potential</td>
                    <td class="text-left">최근 가입했거나 구매 경험이 적은 성장 가능 고객</td>
                    <td class="text-left">
                        • <strong>VIP 승급 챌린지</strong> ("1번만 더 사면 VIP")<br>
                        • 베스트셀러(스테디) 상품 크로스 셀링
                    </td>
                </tr>
                <tr>
                    <td class="fw-bold" style="color:#c62828;">At Risk</td>
                    <td class="text-left">과거엔 잘 샀으나 최근 방문이 뜸한 이탈 위험군</td>
                    <td class="text-left">
                        • <strong>리텐션 쿠폰</strong> (재구매 유도)<br>
                        • "고객님, 토너 떨어지실 때 안 되셨나요?" 알림
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="card full-width">
        <div class="card-title">독도토너 인구통계학적 고객 분석 (Demographics)</div>
        
        <div class="grid-2">
            <div>
                <h4 style="margin-top:0; color:#555;">1. 피부 타입별 고객 비중</h4>
                <div style="height: 250px;">
                    <canvas id="skinTypeChart"></canvas>
                </div>
                <p style="font-size:12px; color:#666; margin-top:10px;">
                    * <strong>Insight</strong>: 복합성(Combination) 피부 고객이 전체의 37%로 가장 높은 비중을 차지함. 마케팅 소구 포인트를 "유수분 밸런스"에 맞춰야 함.
                </p>
            </div>

            <div>
                <h4 style="margin-top:0; color:#555;">2. 유저 신체 스펙 분포 (데이터 기반 추정)</h4>
                <table style="margin-top: 20px;">
                    <tr>
                        <th style="width: 30%;">구분</th>
                        <th>주요 분포 구간 (Mode)</th>
                        <th>비고</th>
                    </tr>
                    <tr>
                        <td class="fw-bold">신장 (Height)</td>
                        <td>170cm ~ 178cm</td>
                        <td rowspan="2" style="font-size:12px; vertical-align: middle;">
                            남성 패션 플랫폼 특성상<br>남성 평균 체형 비중 높음<br>(무탠다드 의류 구매 연관)
                        </td>
                    </tr>
                    <tr>
                        <td class="fw-bold">체중 (Weight)</td>
                        <td>65kg ~ 75kg</td>
                    </tr>
                    <tr>
                        <td class="fw-bold">피부 톤</td>
                        <td>웜톤 (62%) > 쿨톤 (38%)</td>
                        <td style="font-size:12px;">색조 번들링 시 '웜톤' 우선</td>
                    </tr>
                </table>
                <div style="margin-top: 20px; background: #f9f9f9; padding: 15px; border-radius: 8px; font-size: 12px; color: #666;">
                    * <strong>Note</strong>: 신체 스펙 데이터는 의류 구매 리뷰와 연동된 추정치이며, 뷰티 카테고리 단독 구매 시 '피부 타입' 정보의 정확도가 더 높습니다.
                </div>
            </div>
        </div>
    </div>

</div>

<script>
    // 1. RFM 세그먼트 파이 차트
    const ctxRFM = document.getElementById('rfmChart').getContext('2d');
    new Chart(ctxRFM, {
        type: 'doughnut',
        data: {
            labels: ['Champions', 'Loyal', 'Potential', 'At Risk', 'Lost'],
            datasets: [{
                data: [213, 226, 225, 209, 220], // 실제 데이터 수치
                backgroundColor: ['#2196f3', '#4caf50', '#ffc107', '#ef5350', '#bdbdbd'],
                borderWidth: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { position: 'right', labels: { boxWidth: 12, font: { family: 'Pretendard' } } }
            }
        }
    });

    // 2. 피부 타입 바 차트
    const ctxSkin = document.getElementById('skinTypeChart').getContext('2d');
    new Chart(ctxSkin, {
        type: 'bar',
        data: {
            labels: ['복합성', '건성', '지성', '민감성', '정보없음'],
            datasets: [{
                label: '고객 수',
                data: [370, 250, 210, 80, 90], // 추정치 기반 시각화
                backgroundColor: ['#1565c0', '#42a5f5', '#90caf9', '#e3f2fd', '#eeeeee'],
                borderRadius: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: { beginAtZero: true, grid: { display: false } },
                x: { grid: { display: false } }
            },
            plugins: {
                legend: { display: false }
            }
        }
    });
</script>

</body>
</html>